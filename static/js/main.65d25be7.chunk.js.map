{"version":3,"sources":["contexts/AppContext.tsx","contexts/DataContext.tsx","api/city.ts","theme.tsx","components/AppProvider.tsx","pages/HomePage/styles.ts","pages/HomePage/components/CitySelect/styles.ts","pages/HomePage/components/CitySelect/index.tsx","pages/HomePage/components/SearchForm/styles.ts","utils/parsePath.ts","pages/HomePage/components/SearchForm/index.tsx","pages/HomePage/index.tsx","pages/ResultsPage/styles.ts","pages/ResultsPage/index.tsx","utils/calculateDistance.ts","App.tsx","index.tsx"],"names":["initialState","isLoading","setIsLoading","AppContext","createContext","AppProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","value","react_default","a","createElement","Provider","useAppContext","useContext","cities","DataContext","DataProvider","setCities","initialize","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","name","latitude","longitude","stop","apply","this","arguments","useEffect","finally","setTimeout","palette","common","black","white","background","paper","default","error","main","red","text","primary","secondary","disabled","hint","theme","createMuiTheme","typography","fontFamily","subtitle2","fontWeight","overrides","MuiCssBaseline","@global","body","backgroundColor","MuiDialogContent","root","position","props","MuiButton","disableElevation","AppProviders","ThemeProvider","react_router_dom","CssBaseline","AppContext_AppProvider","DataContext_DataProvider","useStyles","makeStyles","createStyles","container","height","padding","spacing","display","flexDirection","title","textAlign","color","select","width","marginLeft","CitySelect","_React$useState","React","_React$useState2","open","setOpen","_React$useState3","_React$useState4","options","setOptions","loading","length","classes","active","map","Box","mb","Autocomplete","assign","className","onOpen","onClose","getOptionSelected","option","getOptionLabel","renderInput","params","TextField","label","variant","InputProps","objectSpread2","endAdornment","Fragment","CircularProgress","size","undefined","FormHelperText","form","& .MuiFormHelperText-root","formControl","marginBottom","listItem","grey","borderRadius","submitButton","parsePath","path","data","slice","split","forEach","str","key","defineProperty","toConsumableArray","SearchForm","intermediateCities","setIntermediateCities","history","useHistory","location","useLocation","schema","yup","origin","required","destination","date","passengers","positive","useFormikConfig","initialValues","useMemo","searchParams","search","_ref$intermediateCiti","rest","objectWithoutProperties","onSubmit","routes","join","push","concat","validationSchema","_useFormik","useFormik","errors","touched","handleChange","setFieldValue","handleSubmit","_useFormik$values","values","mt","CitySelect_CitySelect","onChange","e","val","type","helperText","ml","newCity","Typography","List","city","index","ListItem","ListItemText","ListItemSecondaryAction","onClick","filter","cityName","IconButton","edge","aria-label","Delete_default","Button","_","startIcon","Search_default","HomePage","SearchForm_SearchForm","ResultsPage","setForm","_useState3","_useState4","distances","setDistances","_useAppContext","totalDistance","total","distance","includes","alert","find","distancesForRoutes","point1","point2","gamma1","fi1","gamma2","fi2","deltaGamma","Math","abs","deltaFi","asin","sqrt","pow","sin","calculateDistance","alignItems","Chip","icon","Room_default","App","components_AppProvider","Container","maxWidth","react_router","exact","component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.65d25be7.chunk.js","sourcesContent":["import React, { createContext, Dispatch, FC, SetStateAction, useContext, useState } from 'react';\n\ninterface IAppContext {\n    isLoading: boolean;\n    setIsLoading: Dispatch<SetStateAction<boolean>>;\n}\n\nconst initialState: IAppContext = {\n    isLoading: false,\n    setIsLoading: () => {},\n};\nconst AppContext = createContext<IAppContext>(initialState);\n\nexport const AppProvider: FC = ({ children }: any) => {\n    const [isLoading, setIsLoading] = useState(initialState.isLoading);\n\n    const value: IAppContext = {\n        isLoading,\n        setIsLoading,\n    };\n\n    return <AppContext.Provider value={value}>{children}</AppContext.Provider>;\n};\n\nexport function useAppContext() {\n    return useContext<IAppContext>(AppContext);\n}\n","import React, { createContext, FC, useContext, useEffect, useState } from 'react';\n\nimport { ICity } from './types';\nimport { getCities } from '../api/city';\nimport { useAppContext } from './AppContext';\n\ninterface IDataContext {\n    cities: ICity[];\n}\n\nconst initialState: IDataContext = {\n    cities: [],\n};\nconst DataContext = createContext<IDataContext>(initialState);\n\nexport const DataProvider: FC = ({ children }: any) => {\n    const [cities, setCities] = useState(initialState.cities);\n\n    const { setIsLoading } = useAppContext();\n\n    const initialize = async () => {\n        const data = getCities();\n        setCities(data);\n    };\n\n    useEffect(() => {\n        setIsLoading(true);\n        initialize().finally(() => {\n            // Simulate request\n            setTimeout(() => {\n                setIsLoading(false);\n            }, 1000);\n        });\n    }, [setIsLoading]);\n\n    const value: IDataContext = {\n        cities,\n    };\n\n    return <DataContext.Provider value={value}>{children}</DataContext.Provider>;\n};\n\nexport function useDataContext() {\n    return useContext<IDataContext>(DataContext);\n}\n","export const getCities = () => {\n    return [\n        { name: 'Paris', latitude: 48.856614, longitude: 2.352222 },\n        { name: 'Marseille', latitude: 43.296482, longitude: 5.36978 },\n        { name: 'Lyon', latitude: 45.764043, longitude: 4.835659 },\n        { name: 'Toulouse', latitude: 43.604652, longitude: 1.444209 },\n        { name: 'Nice', latitude: 43.710173, longitude: 7.261953 },\n        { name: 'Nantes', latitude: 47.218371, longitude: -1.553621 },\n        { name: 'Strasbourg', latitude: 48.573405, longitude: 7.752111 },\n        { name: 'Montpellier', latitude: 43.610769, longitude: 3.876716 },\n        { name: 'Bordeaux', latitude: 44.837789, longitude: -0.57918 },\n        { name: 'Lille', latitude: 50.62925, longitude: 3.057256 },\n        { name: 'Rennes', latitude: 48.117266, longitude: -1.677793 },\n        { name: 'Reims', latitude: 49.258329, longitude: 4.031696 },\n        { name: 'Le Havre', latitude: 49.49437, longitude: 0.107929 },\n        { name: 'Saint-Étienne', latitude: 45.439695, longitude: 4.387178 },\n        { name: 'Toulon', latitude: 43.124228, longitude: 5.928 },\n        { name: 'Angers', latitude: 47.478419, longitude: -0.563166 },\n        { name: 'Grenoble', latitude: 45.188529, longitude: 5.724524 },\n        { name: 'Dijon', latitude: 47.322047, longitude: 5.04148 },\n        { name: 'Nîmes', latitude: 43.836699, longitude: 4.360054 },\n        { name: 'Aix-en-Provence', latitude: 43.529742, longitude: 5.447427 },\n    ];\n};\n","import { createMuiTheme } from '@material-ui/core/styles';\nimport { red } from '@material-ui/core/colors';\n\nconst RED_COLOR = {\n    main: red[900],\n};\n\nconst BLACK_COLOR = {\n    primary: '#484848',\n    secondary: 'rgba(0, 0, 0, 0.54)',\n    disabled: 'rgba(0, 0, 0, 0.38)',\n    hint: 'rgba(0, 0, 0, 0.38)',\n};\n\nconst palette = {\n    common: {\n        black: '#000',\n        white: '#fff',\n    },\n    background: {\n        paper: '#fff',\n        default: '#fff',\n    },\n    error: RED_COLOR,\n    text: BLACK_COLOR,\n};\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n    palette,\n    // shadows: Array(25).fill('none') as any,\n    typography: {\n        fontFamily: \"'Varela Round', sans-serif\",\n        subtitle2: {\n            fontWeight: 800,\n        },\n    },\n    overrides: {\n        MuiCssBaseline: {\n            '@global': {\n                body: {\n                    backgroundColor: '#fff',\n                },\n            },\n        },\n        MuiDialogContent: {\n            root: {\n                position: 'relative',\n            },\n        },\n    },\n    props: {\n        MuiButton: {\n            disableElevation: true,\n        },\n    },\n});\n\nexport default theme;\n","import React, { FC } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { CssBaseline, ThemeProvider } from '@material-ui/core';\n\nimport { DataProvider } from '../contexts/DataContext';\nimport { AppProvider } from '../contexts/AppContext';\nimport theme from '../theme';\n\nconst AppProviders: FC = ({ children }: any) => {\n    return (\n        <ThemeProvider theme={theme}>\n            <BrowserRouter>\n                <CssBaseline>\n                    <AppProvider>\n                        <DataProvider>{children}</DataProvider>\n                    </AppProvider>\n                </CssBaseline>\n            </BrowserRouter>\n        </ThemeProvider>\n    );\n};\n\nexport default AppProviders;\n","import { makeStyles, createStyles, Theme } from '@material-ui/core';\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            height: '100vh',\n            padding: theme.spacing(4),\n            display: 'flex',\n            flexDirection: 'column',\n        },\n        title: {\n            textAlign: 'center',\n            color: 'black',\n        },\n    })\n);\n","import { makeStyles, createStyles, Theme } from '@material-ui/core';\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        select: {\n            width: 300,\n        },\n        error: {\n            marginLeft: 14,\n            color: theme.palette.error.main,\n        },\n    })\n);\n","import React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\n\nimport { CitySelectProps } from './types';\nimport { getCities } from '../../../../api/city';\nimport { useStyles } from './styles';\nimport { FormHelperText } from '@material-ui/core';\n\nexport const CitySelect = (props: CitySelectProps) => {\n    const [open, setOpen] = React.useState(false);\n    const [options, setOptions] = React.useState<string[]>([]);\n    const loading = open && !options.length;\n    const classes = useStyles();\n\n    React.useEffect(() => {\n        let active = true;\n\n        if (!loading) {\n            return undefined;\n        }\n\n        (async () => {\n            // Simulate request\n            setTimeout(() => {\n                const cities = getCities();\n\n                if (active) {\n                    setOptions(cities.map(({ name }) => name));\n                }\n            }, 1000);\n        })();\n\n        return () => {\n            active = false;\n        };\n    }, [loading]);\n\n    React.useEffect(() => {\n        if (!open) {\n            setOptions([]);\n        }\n    }, [open]);\n\n    return (\n        <Box mb={4}>\n            <Autocomplete\n                className={classes.select}\n                open={open}\n                onOpen={() => {\n                    setOpen(true);\n                }}\n                onClose={() => {\n                    setOpen(false);\n                }}\n                getOptionSelected={(option, value) => option === value}\n                getOptionLabel={(option) => option}\n                options={options}\n                loading={loading}\n                renderInput={(params) => (\n                    <TextField\n                        {...params}\n                        label={props.label || 'Combo box'}\n                        variant=\"outlined\"\n                        InputProps={{\n                            ...params.InputProps,\n                            endAdornment: (\n                                <React.Fragment>\n                                    {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                                    {params.InputProps.endAdornment}\n                                </React.Fragment>\n                            ),\n                        }}\n                    />\n                )}\n                {...props}\n            />\n            {props.error !== undefined && (\n                <FormHelperText className={classes.error}>{props.error}</FormHelperText>\n            )}\n        </Box>\n    );\n};\n","import { makeStyles, createStyles, Theme } from '@material-ui/core';\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        form: {\n            '& .MuiFormHelperText-root': {\n                color: theme.palette.error.main,\n            },\n        },\n        formControl: {\n            width: 300,\n            marginBottom: theme.spacing(4),\n        },\n        listItem: {\n            backgroundColor: theme.palette.grey['100'],\n            borderRadius: theme.spacing(4),\n            marginBottom: theme.spacing(1),\n        },\n        submitButton: {},\n    })\n);\n","export const parsePath = (path: string) => {\n    let data = {};\n\n    path.slice(1)\n        .split('&')\n        .forEach((str) => {\n            const key = str.split('=')[0];\n            const value = str.split('=')[1];\n\n            if (key === 'intermediateCities') {\n                data = { ...data, [key]: [...value.split('@')] };\n            } else {\n                data = { ...data, [key]: value };\n            }\n        });\n\n    return data;\n};\n","import React, { useMemo, useState } from 'react';\nimport {\n    Box,\n    List,\n    Typography,\n    ListItem,\n    ListItemText,\n    ListItemSecondaryAction,\n    IconButton,\n    TextField,\n    Button,\n} from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SearchIcon from '@material-ui/icons/Search';\n// @ts-ignore\nimport * as yup from 'yup';\nimport { useFormik } from 'formik';\n// @ts-ignore\nimport * as _ from 'lodash';\nimport { useHistory, useLocation } from 'react-router';\n\nimport { CitySelect } from '../CitySelect';\nimport { ICity } from '../../../../contexts/types';\nimport { useStyles } from './styles';\nimport { parsePath } from '../../../../utils/parsePath';\n\nexport const SearchForm = () => {\n    const [intermediateCities, setIntermediateCities] = useState<string[]>([]);\n\n    const classes = useStyles();\n    const history = useHistory();\n    const location = useLocation();\n\n    const handleSearch = () => {\n        const routes = intermediateCities.join('@');\n\n        history.push(\n            `/results?origin=${origin}&destination=${destination}&date=${date}&passengers=${passengers}&intermediateCities=${routes}`\n        );\n    };\n\n    const schema = yup.object({\n        origin: yup.string().required('This field should no be null'),\n        destination: yup.string().required('This field should no be null'),\n        date: yup.string().required('This field should no be null'),\n        passengers: yup.number().positive().required('This field should no be null'),\n    });\n\n    const initialValues = useMemo(() => {\n        const searchParams = location.search;\n\n        const { intermediateCities = [], ...rest } = parsePath(searchParams) as any;\n        setIntermediateCities(intermediateCities);\n\n        return {\n            origin: undefined,\n            destination: undefined,\n            date: undefined,\n            passengers: undefined,\n            ...rest,\n        };\n    }, [location]);\n\n    const useFormikConfig = {\n        initialValues: initialValues,\n        onSubmit: handleSearch,\n        validationSchema: schema,\n    };\n\n    const {\n        errors,\n        touched,\n        handleChange,\n        setFieldValue,\n        handleSubmit,\n        values: { origin, destination, date, passengers },\n    } = useFormik(useFormikConfig);\n\n    const handleAddIntermediateCity = (e: any, newCity: string) => {\n        setIntermediateCities([...intermediateCities, newCity]);\n    };\n\n    const handleRemoveCityByName = (name: string) => {\n        setIntermediateCities(intermediateCities.filter((cityName) => cityName !== name));\n    };\n\n    return (\n        <Box className={classes.form} display=\"flex\" mt={8}>\n            <Box width={300}>\n                <CitySelect\n                    name=\"origin\"\n                    label=\"City of origin\"\n                    value={origin}\n                    onChange={(e: any, val: ICity) => setFieldValue('origin', val)}\n                    error={touched.origin && errors.origin}\n                />\n                <CitySelect\n                    name=\"destination\"\n                    label=\"City of destination\"\n                    value={destination}\n                    onChange={(e: any, val: ICity) => setFieldValue('destination', val)}\n                    error={touched.destination && errors.destination}\n                />\n                <TextField\n                    name=\"date\"\n                    className={classes.formControl}\n                    value={date}\n                    onChange={handleChange('date')}\n                    type=\"date\"\n                    label=\"Date of trip\"\n                    variant=\"outlined\"\n                    helperText={touched.date && errors.date}\n                />\n                <TextField\n                    name=\"passengers\"\n                    className={classes.formControl}\n                    value={passengers}\n                    onChange={handleChange('passengers')}\n                    type=\"number\"\n                    label=\"Number of passengers\"\n                    variant=\"outlined\"\n                    helperText={touched.passengers && errors.passengers}\n                />\n            </Box>\n            <Box width={300} ml={4}>\n                <CitySelect label=\"Add intermediate city\" onChange={handleAddIntermediateCity} />\n                <Typography variant=\"h5\">Intermediate Cities</Typography>\n                <List>\n                    {intermediateCities.map((city, index) => (\n                        <ListItem className={classes.listItem} key={`intermediate-city-${index}`}>\n                            <ListItemText primary={city} />\n                            <ListItemSecondaryAction onClick={() => handleRemoveCityByName(city)}>\n                                <IconButton edge=\"end\" color=\"secondary\" aria-label=\"delete\">\n                                    <DeleteIcon />\n                                </IconButton>\n                            </ListItemSecondaryAction>\n                        </ListItem>\n                    ))}\n                </List>\n            </Box>\n            <Box ml={4}>\n                <Button\n                    disabled={!_.isEmpty(errors)}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"large\"\n                    className={classes.submitButton}\n                    startIcon={<SearchIcon />}\n                    onClick={handleSubmit as any}\n                >\n                    Search\n                </Button>\n            </Box>\n        </Box>\n    );\n};\n","import React from 'react';\nimport { Box, Typography } from '@material-ui/core';\n\nimport { useStyles } from './styles';\nimport { SearchForm } from './components/SearchForm';\n\nconst HomePage = () => {\n    const classes = useStyles();\n\n    return (\n        <Box className={classes.container}>\n            <Typography variant=\"h2\" className={classes.title}>\n                CITY-MOZ\n            </Typography>\n            <SearchForm />\n        </Box>\n    );\n};\n\nexport default HomePage;\n","import { makeStyles, createStyles, Theme } from '@material-ui/core';\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            height: '100vh',\n            padding: theme.spacing(4),\n            display: 'flex',\n            flexDirection: 'column',\n        },\n        title: {\n            textAlign: 'center',\n            color: 'black',\n            marginBottom: theme.spacing(8),\n        },\n        label: {\n            width: 200,\n            color: theme.palette.grey['500'],\n        },\n    })\n);\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { Box, Chip, CircularProgress, Typography } from '@material-ui/core';\nimport { useLocation } from 'react-router';\nimport RoomIcon from '@material-ui/icons/Room';\n\nimport { useStyles } from './styles';\nimport { parsePath } from '../../utils/parsePath';\nimport { useDataContext } from '../../contexts/DataContext';\nimport { calculateDistance } from '../../utils/calculateDistance';\nimport { useAppContext } from '../../contexts/AppContext';\n\nconst ResultsPage = () => {\n    const [form, setForm] = useState({\n        origin: 'City of origin',\n        destination: 'City of destination',\n        date: 'Trip date',\n        passengers: 1,\n        intermediateCities: [],\n    });\n    const [distances, setDistances] = useState([]);\n\n    const classes = useStyles();\n    const location = useLocation();\n    const { cities } = useDataContext();\n    const { isLoading, setIsLoading } = useAppContext();\n\n    const totalDistance = useMemo(() => {\n        let total = 0;\n        distances.forEach(({ distance }) => (total += distance));\n        return total;\n    }, [distances]);\n\n    useEffect(() => {\n        const searchParams = location.search;\n\n        setForm(parsePath(searchParams) as any);\n    }, [location]);\n\n    useEffect(() => {\n        // @ts-ignore\n        if (form.intermediateCities.includes('Dijon')) {\n            alert('Some went wrong while calculating distance!');\n        }\n        const intermediateCities = [\n            cities.find((city) => city.name === form.origin),\n            ...form.intermediateCities.map((name) => cities.find((city) => city.name === name)),\n            cities.find((city) => city.name === form.destination),\n        ];\n\n        const distancesForRoutes: any[] = [];\n        setIsLoading(true);\n\n        intermediateCities.forEach((city, index) => {\n            if (index > 0) {\n                const point1 = intermediateCities[index - 1] || { name: '', longitude: 0, latitude: 0 };\n                const point2 = city || { name: '', longitude: 0, latitude: 0 };\n                const label = `${point1.name} - ${point2.name}`;\n                const distance = calculateDistance(point1, point2);\n\n                distancesForRoutes.push({ label, distance });\n            }\n        });\n\n        setTimeout(() => setIsLoading(false), 1000);\n        setDistances(distancesForRoutes as any);\n    }, [form, cities, setIsLoading]);\n\n    return (\n        <Box className={classes.container}>\n            <Typography variant=\"h2\" className={classes.title}>\n                Trip detail\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n                <Typography className={classes.label} variant=\"h6\">\n                    City of origin:\n                </Typography>\n                <Chip size=\"small\" icon={<RoomIcon />} label={form.origin} color=\"secondary\" />\n            </Box>\n            <Box display=\"flex\">\n                <Typography className={classes.label} variant=\"h6\">\n                    City of destination:\n                </Typography>\n                <Chip size=\"small\" icon={<RoomIcon />} label={form.destination} color=\"secondary\" />\n            </Box>\n            <Box display=\"flex\">\n                <Typography className={classes.label} variant=\"h6\">\n                    Trip date:\n                </Typography>\n                <Typography variant=\"h5\">{form.date}</Typography>\n            </Box>\n            <Box display=\"flex\">\n                <Typography className={classes.label} variant=\"h6\">\n                    Passengers:\n                </Typography>\n                <Typography variant=\"h5\">{form.passengers}</Typography>\n            </Box>\n            <Box display=\"flex\" alignItems=\"center\">\n                <Typography className={classes.label} variant=\"h6\">\n                    Intermediate cities:\n                </Typography>\n                <Box display=\"flex\">\n                    {form.intermediateCities.map((cityName, index) => (\n                        <Chip\n                            key={`chip-${index}`}\n                            size=\"small\"\n                            icon={<RoomIcon />}\n                            label={cityName}\n                            color=\"primary\"\n                        />\n                    ))}\n                </Box>\n            </Box>\n            <Box mt={4}>\n                <Typography variant=\"h3\">Routes</Typography>\n                {isLoading ? (\n                    <CircularProgress />\n                ) : (\n                    <>\n                        {distances.map(({ label, distance }, index) => (\n                            <Box key={`distance-${index}`}>\n                                <Typography variant=\"h6\">{label}</Typography>\n                                <Typography color=\"secondary\" variant=\"h5\">\n                                    {distance}Km\n                                </Typography>\n                            </Box>\n                        ))}\n                        <Typography variant=\"h4\">Total distance: {totalDistance}Km</Typography>\n                    </>\n                )}\n            </Box>\n        </Box>\n    );\n};\n\nexport default ResultsPage;\n","import { ICity } from '../contexts/types';\n\nexport const calculateDistance = (point1: ICity, point2: ICity) => {\n    const gamma1 = point1.longitude;\n    const fi1 = point1.latitude;\n    const gamma2 = point2.longitude;\n    const fi2 = point2.latitude;\n    const r = 6378.137; // radius of earth km\n\n    const deltaGamma = Math.abs(gamma1 - gamma2);\n    const deltaFi = Math.abs(fi1 - fi2);\n    const deltaSita =\n        2 *\n        Math.asin(\n            Math.sqrt(\n                Math.pow(Math.sin(deltaFi / 2), 2) +\n                    (1 - Math.pow(Math.sin(deltaFi / 2), 2) - Math.pow(Math.sin((fi1 + fi2) / 2), 2)) *\n                        Math.pow(Math.sin(deltaGamma / 2), 2)\n            )\n        );\n    return r * deltaSita;\n};\n","import React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { Container } from '@material-ui/core';\n\nimport AppProviders from './components/AppProvider';\nimport HomePage from './pages/HomePage';\nimport ResultsPage from './pages/ResultsPage';\n\nimport './App.css';\n\nconst App: React.FC = () => {\n    return (\n        <AppProviders>\n            <Container maxWidth=\"xl\">\n                <Switch>\n                    <Route path=\"/\" exact component={HomePage} />\n                    <Route path=\"/results\" component={ResultsPage} />\n                </Switch>\n            </Container>\n        </AppProviders>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'typeface-roboto';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}